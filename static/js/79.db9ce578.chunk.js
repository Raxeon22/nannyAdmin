(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[79],{1127:function(e,t,a){"use strict";a.r(t);var c=a(459),n=a.n(c),s=a(460),r=a(19),l=a(0),i=a(477),j=a.n(i),o=a(495),d=a.n(o),u=a(496),b=(a(467),a(481),a(516)),O=a(666),h=a(653),x=a(675),m=a(458),f=a(478),p=a(462),g=a(120),v=a(472),y=a(475),w=a(480),N=a(455),S=a(493),k=a(488),C=a(489),F=a(500),_=a(486),D=a(487),z=a(490),B=a(476),E=a(1168),U=a(1169),A=a(1100),J=a(1102),P=a(8);t.default=function(){var e=Object(l.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],i=Object(l.useState)(null),o=Object(r.a)(i,2),L=o[0],R=o[1],V=Object(l.useState)(null),q=Object(r.a)(V,2),G=q[0],H=q[1],I=Object(l.useState)([]),K=Object(r.a)(I,2),M=K[0],Q=K[1],T=Object(l.useState)([]),W=Object(r.a)(T,2),X=W[0],Y=W[1],Z=Object(l.useState)([]),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)("French"),ce=Object(r.a)(ae,2),ne=ce[0],se=ce[1];Object(l.useEffect)((function(){var e=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/banner/web?lang=".concat(ne));case 2:t=e.sent,a=t.data,Q(a.data),console.log(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,L,G]);var re=function(e){c(a!==e?e:null)},le=function(e){R(L!==e?e:null)},ie=function(e){H(G!==e?e:null)},je=Object(l.useState)(null),oe=Object(r.a)(je,2),de=oe[0],ue=oe[1],be=Object(l.useState)(null),Oe=Object(r.a)(be,2),he=Oe[0],xe=Oe[1],me=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});me.use(d.a),me.on("thumbnail:generated",(function(e,t){ue(e.data),te(t)}));var fe=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});fe.use(d.a),fe.on("thumbnail:generated",(function(e,t){xe(e.data),Y(t)}));var pe=new FormData;pe.append("file",de),pe.append("lang",ne);var ge=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("/banner/web",pe,{});case 3:e.sent.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Uploaded Successfully!"})),H(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("/banner?id=".concat(t));case 2:a=e.sent,console.log(a),a.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Deleted Successfully!"})),c(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=new FormData;ye.append("file",he);var we=function(){var e=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("/banner/".concat(t),ye,{});case 2:a=e.sent,console.log(a),a.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Updated Successfully!"})),R(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(v.a,{children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(w.a,{children:"All Desktop Banners "}),Object(P.jsxs)("div",{className:"d-flex",children:[Object(P.jsx)(b.a,{className:"react-select w-25",defaultValue:ne,options:[{value:"French",label:"French"},{value:"English",label:"English"}],style:{width:"150px"},onChange:function(e){return se(e.value)}}),Object(P.jsx)("div",{className:"ml-auto mb-2",children:Object(P.jsx)(N.a,{color:"primary",onClick:function(){return ie(0)},children:"Add new Banner"})})]}),Object(P.jsxs)(S.a,{isOpen:0===G,toggle:function(){return ie(0)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(P.jsx)(k.a,{toggle:function(){return ie(0)},children:"Upload"}),Object(P.jsx)(C.a,{children:Object(P.jsx)(F.a,{children:Object(P.jsx)(_.a,{children:Object(P.jsxs)(D.a,{sm:"12",className:"mt-2",children:[Object(P.jsx)("h6",{children:" Upload Banners "}),Object(P.jsx)(u.a,{uppy:me}),null!==de?Object(P.jsx)("img",{className:"rounded mt-2",src:ee,alt:"avatar"}):null]})})})}),Object(P.jsx)(z.a,{children:Object(P.jsx)(N.a,{color:"primary",onClick:function(e){return ge(e)},children:"Submit"})})]},0),Object(P.jsxs)(B.a,{responsive:!0,children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"S.No"}),Object(P.jsx)("th",{children:"Banners"}),Object(P.jsx)("th",{children:"Actions"})]})}),Object(P.jsx)("tbody",{children:M.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:t+1}),Object(P.jsxs)("td",{children:[" ",Object(P.jsx)("img",{src:f.a+e.image,width:"auto",height:"200",alt:""})," "]}),Object(P.jsxs)("td",{children:[Object(P.jsxs)(E.a,{children:[Object(P.jsx)(U.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(P.jsx)(O.a,{size:15})}),Object(P.jsxs)(A.a,{right:!0,children:[Object(P.jsxs)(J.a,{href:"/",onClick:function(t){t.preventDefault(),le(e._id)},children:[Object(P.jsx)(h.a,{className:"mr-50",size:15}),"  ",Object(P.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(P.jsxs)(J.a,{href:"/",onClick:function(t){t.preventDefault(),re(e._id)},children:[Object(P.jsx)(x.a,{className:"mr-50",size:15})," ",Object(P.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]}),Object(P.jsxs)(S.a,{isOpen:L===e._id,toggle:function(){return le(e.id)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(P.jsx)(k.a,{toggle:function(){return le(e._id)},children:"Edit"}),Object(P.jsx)(C.a,{children:Object(P.jsx)(F.a,{children:Object(P.jsx)(_.a,{children:Object(P.jsxs)(D.a,{sm:"12",className:"mt-2",children:[Object(P.jsx)("h6",{children:" edit Banner "}),Object(P.jsx)(u.a,{uppy:fe}),null!==he?Object(P.jsx)("img",{className:"rounded mt-2",src:X,alt:"avatar"}):null]})})})}),Object(P.jsx)(z.a,{children:Object(P.jsx)(N.a,{color:"primary",onClick:function(){return we(e._id)},children:"Submit"})})]},e._id),Object(P.jsxs)(S.a,{isOpen:a===e._id,toggle:function(){return re(e._id)},className:"modal-dialog-centered",modalClassName:"modal-danger",children:[Object(P.jsx)(k.a,{toggle:function(){return re(e._id)},children:"Delete"}),Object(P.jsx)(C.a,{children:"Are you sure you want to delete this?"}),Object(P.jsx)(z.a,{children:Object(P.jsx)(N.a,{color:"danger",onClick:function(){return ve(e._id)},children:"delete"})})]},e.id)]})]},t)}))})]})]})})})}},458:function(e,t,a){"use strict";var c=a(83),n=a.n(c);t.a=n.a.create({baseURL:"http://localhost:4000"})},462:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return j}));var c=a(0),n=a(466),s=a(638),r=a(616),l=(a(639),a(659),a(8)),i=function(e){return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(n.a,{size:"sm",color:"success",icon:Object(l.jsx)(s.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(l.jsx)("div",{className:"toastify-body",children:Object(l.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},j=function(e){return Object(l.jsxs)(c.Fragment,{children:[Object(l.jsx)("div",{className:"toastify-header",children:Object(l.jsxs)("div",{className:"title-wrapper",children:[Object(l.jsx)(n.a,{size:"sm",color:"danger",icon:Object(l.jsx)(r.a,{size:12})}),Object(l.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(l.jsx)("div",{className:"toastify-body",children:Object(l.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},467:function(e,t,a){}}]);
//# sourceMappingURL=79.db9ce578.chunk.js.map