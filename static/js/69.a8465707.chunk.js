(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[69],{1120:function(e,t,a){"use strict";a.r(t);var c=a(30),s=a(2),r=a(459),n=a.n(r),i=a(460),j=a(19),l=a(0),d=a(477),o=a.n(d),u=a(495),b=a.n(u),h=a(496),x=a(499),O=(a(468),a(467),a(481),a(462)),p=a(120),m=a(472),g=a(492),f=a(480),v=a(475),y=a(500),N=a(486),w=a(487),C=a(474),S=a(484),k=a(1099),z=a(479),E=a(464),F=a(494),D=a(455),R=a(482),J=a(485),L=a(458),P=a(478),T=a(8);t.default=function(){var e=Object(l.useState)(null),t=Object(j.a)(e,2),a=t[0],r=t[1],d=Object(l.useState)(!1),u=Object(j.a)(d,2),U=u[0],_=u[1],I=Object(l.useState)(null),Y=Object(j.a)(I,2),q=Y[0],A=Y[1],B=new URLSearchParams(Object(x.h)().search).get("_id"),G=Object(x.g)(),H=Object(l.useState)({heading:"",text:""}),K=Object(j.a)(H,2),M=K[0],Q=K[1];Object(l.useEffect)((function(){var e=function(){var e=Object(i.a)(n.a.mark((function e(){var t,a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("/category?_id=".concat(B));case 3:t=e.sent,a=t.data,c=a.data[0],r(c.image),Q({heading:c.heading,text:c.text}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var V=new o.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});V.use(b.a),V.on("thumbnail:generated",(function(e,t){r(e.data),A(t)}));var W=function(e){var t=e.target,a=t.name,r=t.value;Q((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(c.a)({},a,r))}))},X=new FormData;X.append("heading",M.heading),X.append("text",M.text),X.append("file",a);var Z=function(){var e=Object(i.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),_(!0),e.next=4,L.a.put("/category/".concat(B),X,{});case 4:(a=e.sent).data.success?(p.c.success(Object(T.jsx)(O.b,{title:"Success",text:"Category updated Successfully!"})),G.push("/category/list")):(_(!1),p.c.error(Object(T.jsx)(O.a,{title:"error",text:a.data.message})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(m.a,{children:[Object(T.jsx)(g.a,{children:Object(T.jsx)(f.a,{tag:"h4",children:"Edit the Category"})}),Object(T.jsx)(v.a,{children:Object(T.jsx)(y.a,{children:Object(T.jsxs)(N.a,{children:[Object(T.jsxs)(w.a,{sm:"12",children:[Object(T.jsx)(C.a,{for:"name",children:"Category Name"}),Object(T.jsxs)(S.a,{className:"input-group-merge",tag:k.a,children:[Object(T.jsx)(z.a,{addonType:"prepend",children:Object(T.jsx)(E.a,{children:Object(T.jsx)(J.g,{size:15})})}),Object(T.jsx)(F.a,{type:"text",name:"heading",value:M.heading,id:"name",onChange:W,placeholder:"Enter Category Name"})]})]}),Object(T.jsxs)(w.a,{sm:"12",md:"6",children:[Object(T.jsx)(C.a,{for:"descrip",children:"Category Description"}),Object(T.jsxs)(S.a,{className:"input-group-merge",tag:k.a,children:[Object(T.jsx)(z.a,{addonType:"prepend",children:Object(T.jsx)(E.a,{children:Object(T.jsx)(J.i,{size:15})})}),Object(T.jsx)(F.a,{type:"text",name:"text",id:"descrip",value:M.text,placeholder:"Enter Your Category description",onChange:W})]})]}),Object(T.jsxs)(w.a,{sm:"12",className:"mt-2",children:[Object(T.jsx)("h6",{children:" Category Image "}),Object(T.jsx)(h.a,{uppy:V}),null!==a?Object(T.jsx)("img",{className:"rounded mt-2",height:200,width:"auto",src:q||P.a+a,alt:"avatar"}):null]}),Object(T.jsx)(w.a,{sm:"12",className:"mt-4",children:Object(T.jsxs)(k.a,{className:"d-flex mb-0",children:[Object(T.jsx)(D.a.Ripple,{className:"mr-1",color:"primary",type:"submit",onClick:function(e){return Z(e)},children:"Submit"}),U?Object(T.jsx)(R.a,{color:"primary"}):null]})})]})})})]})}},458:function(e,t,a){"use strict";var c=a(83),s=a.n(c);t.a=s.a.create({baseURL:"https://nanybackendforadmin.herokuapp.com"})},462:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return l}));var c=a(0),s=a(466),r=a(638),n=a(616),i=(a(639),a(659),a(8)),j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"success",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},l=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"danger",icon:Object(i.jsx)(n.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},467:function(e,t,a){},468:function(e,t,a){}}]);
//# sourceMappingURL=69.a8465707.chunk.js.map