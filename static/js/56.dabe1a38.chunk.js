(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[56],{1089:function(e,a,t){},1090:function(e,a,t){},1164:function(e,a,t){"use strict";t.r(a);var c=t(459),s=t.n(c),r=t(460),n=t(19),i=t(0),l=t(1153),j=t(1104),o=t(1105),d=t(635),b=t(660),u=t(8),m=function(e){var a=e.activeTab,t=e.toggleTab;return Object(u.jsxs)(l.a,{className:"nav-left",pills:!0,vertical:!0,children:[Object(u.jsx)(j.a,{children:Object(u.jsxs)(o.a,{active:"1"===a,onClick:function(){return t("1")},children:[Object(u.jsx)(d.a,{size:18,className:"mr-1"}),Object(u.jsx)("span",{className:"font-weight-bold",children:"Profile"})]})}),Object(u.jsx)(j.a,{children:Object(u.jsxs)(o.a,{active:"2"===a,onClick:function(){return t("2")},children:[Object(u.jsx)(b.a,{size:18,className:"mr-1"}),Object(u.jsx)("span",{className:"font-weight-bold",children:"Change Password"})]})})]})},x=t(598),O=t(2),h=(t(603),t(486)),p=t(487),f=t(1099),v=t(474),g=t(494),w=t(455),N=t(482),y=(t(478),function(e){var a=e.value,t=e.setValue,c=e.onSubmit,s=e.loading;return Object(u.jsx)(i.Fragment,{children:Object(u.jsxs)(h.a,{children:[Object(u.jsx)(p.a,{sm:"12",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(v.a,{for:"name",children:"Name"}),Object(u.jsx)(g.a,{type:"text",id:"login-email",placeholder:"John",value:a.name,autoFocus:!0,onChange:function(e){return t(Object(O.a)(Object(O.a)({},a),{},{name:e.target.value}))}})]})}),Object(u.jsx)(p.a,{sm:"12",children:Object(u.jsxs)(f.a,{children:[Object(u.jsx)(v.a,{for:"email",children:"Email"}),Object(u.jsx)(g.a,{type:"email",id:"login-email",placeholder:"john@example.com",value:a.email,autoFocus:!0,onChange:function(e){return t(Object(O.a)(Object(O.a)({},a),{},{email:e.target.value}))}})]})}),Object(u.jsx)(p.a,{className:"mt-2",sm:"12",children:Object(u.jsxs)(w.a.Ripple,{type:"submit",className:"mr-1",color:"primary",onClick:function(e){return function(e){return c(e)}(e)},children:["Save changes",s?Object(u.jsx)(N.a,{color:"light",size:"sm",className:"mx-1"}):null]})})]})})}),S=(t(1094),t(62),t(500)),P=function(e){var a=e.passwords,t=e.setPasswords,c=e.handleSubmit,s=e.loading;return Object(u.jsxs)(S.a,{onSubmit:function(e){return c(e)},children:[Object(u.jsx)(h.a,{children:Object(u.jsx)(p.a,{sm:"12",children:Object(u.jsx)(f.a,{children:Object(u.jsx)(g.a,{type:"password",placeholder:"********",autoFocus:!0})})})}),Object(u.jsxs)(h.a,{children:[Object(u.jsx)(p.a,{sm:"6",children:Object(u.jsx)(f.a,{children:Object(u.jsx)(g.a,{type:"password",placeholder:"********",value:a.newPassword,autoFocus:!0,onChange:function(e){return t(Object(O.a)(Object(O.a)({},a),{},{newPassword:e.target.value}))}})})}),Object(u.jsx)(p.a,{sm:"6",children:Object(u.jsx)(f.a,{children:Object(u.jsx)(g.a,{type:"password",placeholder:"********",value:a.confirmPassword,autoFocus:!0,onChange:function(e){return t(Object(O.a)(Object(O.a)({},a),{},{confirmPassword:e.target.value}))}})})}),Object(u.jsx)(p.a,{className:"mt-1",sm:"12",children:Object(u.jsxs)(w.a.Ripple,{type:"submit",className:"mr-1",color:"primary",children:["Save changes",s?Object(u.jsx)(N.a,{color:"light",size:"sm",className:"mx-1"}):null]})})]})]})},C=t(472),k=t(475),F=t(1154),z=t(1155),T=t(458),A=(t(1089),t(1090),t(462)),J=t(120);a.default=function(){var e=Object(i.useState)("1"),a=Object(n.a)(e,2),t=a[0],c=a[1],l=Object(i.useState)(null),j=Object(n.a)(l,2),o=j[0],d=j[1],b=Object(i.useState)({name:"",email:""}),O=Object(n.a)(b,2),f=O[0],v=O[1],g=Object(i.useState)({newPassword:"",confirmPassword:""}),w=Object(n.a)(g,2),N=w[0],S=w[1],D=Object(i.useState)(!1),E=Object(n.a)(D,2),I=E[0],R=E[1];Object(i.useEffect)(Object(r.a)(s.a.mark((function e(){var a,t,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.parse(localStorage.getItem("userData")),e.next=3,T.a.get("/auth/".concat(a.data.usertype,"?_id=").concat(a.data._id));case 3:t=e.sent,c=t.data,v({name:c.data[0].name,email:c.data[0].email}),d(a.data);case 7:case"end":return e.stop()}}),e)}))),[]);var _=function(){var e=Object(r.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),a.preventDefault(),e.next=4,T.a.put("/auth/updateprofile/".concat(o._id),{name:f.name,email:f.email});case 4:t=e.sent,console.log(t),t.data.success?(J.c.success(Object(u.jsx)(A.b,{title:"Success",text:"user profile updated Successfully!"})),R(!1)):(R(!1),J.c.error(Object(u.jsx)(A.a,{title:"error",text:t.data.message})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),V=function(){var e=Object(r.a)(s.a.mark((function e(a){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),R(!0),e.next=4,T.a.post("auth/resetpassword",{email:o.email,password:N.newPassword,confirmpassword:N.confirmPassword});case 4:t=e.sent,console.log(t),t.data.success?(R(!1),J.c.success(Object(u.jsx)(A.b,{title:"Success",text:t.data.message}))):(R(!1),J.c.error(Object(u.jsx)(A.a,{title:"error",text:t.data.message})));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(u.jsxs)(i.Fragment,{children:[Object(u.jsx)(x.a,{breadCrumbTitle:"Account Settings",breadCrumbParent:"Pages",breadCrumbActive:"Account Settings"}),null!==f?Object(u.jsxs)(h.a,{children:[Object(u.jsx)(p.a,{className:"mb-2 mb-md-0",md:"3",children:Object(u.jsx)(m,{activeTab:t,toggleTab:function(e){c(e)}})}),Object(u.jsx)(p.a,{md:"9",children:Object(u.jsx)(C.a,{children:Object(u.jsx)(k.a,{children:Object(u.jsxs)(F.a,{activeTab:t,children:[Object(u.jsx)(z.a,{tabId:"1",children:Object(u.jsx)(y,{loading:I,setValue:v,onSubmit:_,value:f})}),Object(u.jsx)(z.a,{tabId:"2",children:Object(u.jsx)(P,{handleSubmit:V,passwords:N,setPasswords:S,loading:I})})]})})})})]}):null]})}},458:function(e,a,t){"use strict";var c=t(83),s=t.n(c);a.a=s.a.create({baseURL:"https://nanybackendforadmin.herokuapp.com"})},462:function(e,a,t){"use strict";t.d(a,"b",(function(){return l})),t.d(a,"a",(function(){return j}));var c=t(0),s=t(466),r=t(638),n=t(616),i=(t(639),t(659),t(8)),l=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"success",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(s.a,{size:"sm",color:"danger",icon:Object(i.jsx)(n.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},598:function(e,a,t){"use strict";var c=t(463),s=t(968),r=t(969),n=t(8);a.a=function(e){var a=e.breadCrumbTitle,t=e.breadCrumbParent,i=e.breadCrumbParent2,l=e.breadCrumbParent3,j=e.breadCrumbActive;return Object(n.jsx)("div",{className:"content-header row",children:Object(n.jsx)("div",{className:"content-header-left col-md-9 col-12 mb-2",children:Object(n.jsx)("div",{className:"row breadcrumbs-top",children:Object(n.jsxs)("div",{className:"col-12",children:[a?Object(n.jsx)("h2",{className:"content-header-title float-left mb-0",children:a}):"",Object(n.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(n.jsxs)(s.a,{children:[Object(n.jsx)(r.a,{tag:"li",children:Object(n.jsx)(c.b,{to:"/",children:"Home"})}),Object(n.jsx)(r.a,{tag:"li",className:"text-primary",children:t}),i?Object(n.jsx)(r.a,{tag:"li",className:"text-primary",children:i}):"",l?Object(n.jsx)(r.a,{tag:"li",className:"text-primary",children:l}):"",Object(n.jsx)(r.a,{tag:"li",active:!0,children:j})]})})]})})})})}}}]);
//# sourceMappingURL=56.dabe1a38.chunk.js.map