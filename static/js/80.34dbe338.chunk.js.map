{"version":3,"sources":["views/product/List.js","middleware/API.js","views/components/toastify/index.js","views/components/pagination/PaginationBasic.js"],"names":["Banner","useState","products","setProducts","modal","setModal","useEffect","getProducts","a","Action","get","data","console","log","toggleModalDanger","id","deleteProduct","delete","res","success","toast","title","text","error","message","currentPage","setCurrentPage","dataPerPage","indexOfLastPage","indexOfFirstPage","currentData","slice","totalPages","length","responsive","map","value","index","name","className","src","baseURL","image","width","height","alt","price","color","size","caret","right","to","_id","href","onClick","e","preventDefault","isOpen","toggle","modalClassName","Paginate","pageNumber","axios","create","SuccessToast","props","icon","role","ErrorToast","PaginationBasic","i","Math","ceil","push","number"],"mappings":"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","file":"static/js/80.34dbe338.chunk.js","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport '../../@core/scss/react/libs/file-uploader/file-uploader.scss'\r\nimport 'uppy/dist/uppy.css'\r\nimport Pagination from '@src/views/components/pagination/PaginationBasic'\r\nimport { MoreVertical, Edit, Trash, User } from 'react-feather'\r\nimport Action from '../../middleware/API'\r\nimport baseURL from '../../middleware/BaseURL'\r\n//import toast types from components \r\nimport { SuccessToast, ErrorToast } from '../components/toastify'\r\n//import toasts from react\r\nimport { toast } from 'react-toastify'\r\nimport { Card, CardTitle, CardBody, Table, Modal, ModalHeader, ModalBody, ModalFooter, UncontrolledDropdown, DropdownMenu, DropdownItem, DropdownToggle, Button } from 'reactstrap'\r\n\r\nconst Banner = () => {\r\n  const [products, setProducts] = useState([])\r\n  const [modal, setModal] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const getProducts = async () => {\r\n      try {\r\n        const { data } = await Action.get(`/product`)\r\n        setProducts(data.data)\r\n        console.log(data.data)\r\n      } catch (error) {\r\n        console.log(error)\r\n      }\r\n\r\n    }\r\n    getProducts()\r\n  }, [modal])\r\n\r\n  const toggleModalDanger = id => {\r\n    if (modal !== id) {\r\n      setModal(id)\r\n    } else {\r\n      setModal(null)\r\n    }\r\n  }\r\n\r\n  //delete api\r\n  const deleteProduct = async (id) => {\r\n    const res = await Action.delete(`/product?id=${ id }`)\r\n    if (res.data.success) {\r\n      toast.success(<SuccessToast title=\"Success\" text=\"Product Deleted Succesfully!\" />)\r\n      toggleModalDanger(id)\r\n    } else {\r\n      toast.error(<ErrorToast title=\"error\" text={ res.data.message } />)\r\n    }\r\n  }\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [dataPerPage, setDataPerPage] = useState(3)\r\n  //setting pages into the pagination\r\n  const indexOfLastPage = currentPage * dataPerPage//5\r\n  const indexOfFirstPage = indexOfLastPage - dataPerPage //0\r\n\r\n  const currentData = products.slice(indexOfFirstPage, indexOfLastPage)\r\n  const totalPages = products.length //15\r\n\r\n  //change pages onclick \r\n  const Paginate = (pageNumber) => { setCurrentPage(pageNumber) }\r\n  return (\r\n    <>\r\n      <Card>\r\n        <CardBody>\r\n          <CardTitle>All Product List</CardTitle>\r\n\r\n          <Table responsive>\r\n            <thead>\r\n              <tr>\r\n                <th>S.No</th>\r\n                <th>Product Name</th>\r\n                <th>Product Image</th>\r\n                <th>Price</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {\r\n                products.length ? currentData.map((value, index) => {\r\n                  return (\r\n                    <tr key={ value._id }>\r\n                      <td>\r\n                        { index + (indexOfFirstPage + 1) }\r\n                      </td>\r\n                      <td>{ value.name }</td>\r\n                      <td> <img className=\"rounded-circle\" src={ baseURL + value?.image[0] } width=\"80\" height=\"80\" alt=\"\" /> </td>\r\n                      <td>{ value.price }</td>\r\n\r\n                      <td>\r\n                        <UncontrolledDropdown>\r\n                          <DropdownToggle className='icon-btn hide-arrow' color='transparent' size='sm' caret>\r\n                            <MoreVertical size={ 15 } />\r\n                          </DropdownToggle>\r\n                          <DropdownMenu right>\r\n                            <Link to={ `/product/edit/${ value._id }` }>\r\n                              <DropdownItem href='/' >\r\n                                <Edit className='mr-50' size={ 15 } />  <span className='align-middle'>Edit</span>\r\n                              </DropdownItem>\r\n                            </Link>\r\n\r\n                            <DropdownItem href='/' onClick={ (e) => {\r\n                              e.preventDefault()\r\n                              toggleModalDanger(value._id)\r\n                            } }>\r\n                              <Trash className='mr-50' size={ 15 } /> <span className='align-middle'>Delete</span>\r\n                            </DropdownItem>\r\n                          </DropdownMenu>\r\n                        </UncontrolledDropdown>\r\n\r\n\r\n                        {/* delete modal */ }\r\n                        <Modal\r\n                          isOpen={ modal === value._id }\r\n                          toggle={ () => toggleModalDanger(value._id) }\r\n                          className='modal-dialog-centered'\r\n                          modalClassName=\"modal-danger\"\r\n                          key={ value._id }>\r\n                          <ModalHeader toggle={ () => toggleModalDanger(value._id) }>Delete</ModalHeader>\r\n                          <ModalBody>\r\n                            Are you sure you want to delete this?\r\n                          </ModalBody>\r\n                          <ModalFooter>\r\n                            <Button color=\"danger\" onClick={ () => deleteProduct(value._id) }>\r\n                              delete\r\n                            </Button>\r\n                          </ModalFooter>\r\n                        </Modal>\r\n                      </td>\r\n                    </tr>\r\n                  )\r\n                }) : null\r\n              }\r\n\r\n            </tbody>\r\n          </Table>\r\n          {\r\n            totalPages > dataPerPage ? <Pagination dataPerPage={ dataPerPage } currentPage={ currentPage } Paginate={ Paginate } totalPages={ totalPages } /> : null\r\n          }\r\n        </CardBody>\r\n      </Card>\r\n    </>\r\n  )\r\n}\r\nexport default Banner\r\n","\r\nimport axios from 'axios'\r\n\r\nexport default axios.create({\r\n    //  baseURL: `http://localhost:4000`\r\n    // baseURL: `http://3.94.191.228:4000`\r\n    // baseURL: `https://nanyapp2.herokuapp.com`\r\n    baseURL: `https://nanybackendforadmin.herokuapp.com`\r\n})","import { Fragment } from 'react'\nimport { toast } from 'react-toastify'\nimport Avatar from '@components/avatar'\nimport {Check, X, AlertTriangle, Info } from 'react-feather'\n\n//toast success\nexport const SuccessToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='success' icon={<Check size={12} />} />\n        <h6 className='toast-title'>Success!</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast error\nexport const ErrorToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='danger' icon={<X size={12} />} />\n        <h6 className='toast-title'>Error!</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast warning\nexport const WarningToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='warning' icon={<AlertTriangle size={12} />} />\n        <h6 className='toast-title'>{props.title}</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n)\n\n//toast info\nexport const InfoToast = (props) => (\n  <Fragment>\n    <div className='toastify-header'>\n      <div className='title-wrapper'>\n        <Avatar size='sm' color='info' icon={<Info size={12} />} />\n        <h6 className='toast-title'>{props.title}</h6>\n      </div>\n      {/* <small className='text-muted'>11 Min Ago</small> */}\n    </div>\n    <div className='toastify-body'>\n      <span role='img' aria-label='toast-text'>\n        {props.text}\n      </span>\n    </div>\n  </Fragment>\n) ","import { Pagination, PaginationItem, PaginationLink } from 'reactstrap'\r\n\r\nconst PaginationBasic = ({ dataPerPage, Paginate, totalPages, currentPage }) => {\r\n  const pageNumber = []\r\n  for (let i = 1; i <= Math.ceil(totalPages / dataPerPage); i++) {\r\n    pageNumber.push(i)\r\n  }\r\n  return (\r\n    <Pagination className='d-flex mt-3 mr-2 justify-content-end'>\r\n      { pageNumber.length ? pageNumber.map((number, index) => {\r\n        return (\r\n          <PaginationItem onClick={ () => Paginate(number) } className={ currentPage === number ? \"active\" : \"\" } >\r\n            <PaginationLink href='#' key={ index }>{ number }</PaginationLink>\r\n          </PaginationItem>\r\n        )\r\n      }) : null }\r\n    </Pagination>\r\n  )\r\n}\r\nexport default PaginationBasic\r\n"],"sourceRoot":""}