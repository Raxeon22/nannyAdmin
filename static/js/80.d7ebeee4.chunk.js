(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[80],{1128:function(e,t,a){"use strict";a.r(t);var c=a(459),n=a.n(c),s=a(460),r=a(19),i=a(0),l=a(477),j=a.n(l),d=a(495),o=a.n(d),u=a(496),b=(a(467),a(481),a(516)),O=a(666),h=a(653),x=a(675),m=a(458),f=a(478),p=a(462),g=a(120),v=a(472),y=a(475),N=a(480),w=a(455),S=a(493),k=a(488),C=a(489),F=a(500),_=a(486),z=a(487),B=a(490),D=a(476),E=a(1168),U=a(1169),A=a(1100),J=a(1102),P=a(8),L=[{value:"French",label:"French"},{value:"English",label:"English"}];t.default=function(){var e=Object(i.useState)(null),t=Object(r.a)(e,2),a=t[0],c=t[1],l=Object(i.useState)(null),d=Object(r.a)(l,2),M=d[0],R=d[1],V=Object(i.useState)(null),q=Object(r.a)(V,2),G=q[0],H=q[1],I=Object(i.useState)([]),K=Object(r.a)(I,2),Q=K[0],T=K[1],W=Object(i.useState)([]),X=Object(r.a)(W,2),Y=X[0],Z=X[1],$=Object(i.useState)([]),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ce=Object(i.useState)("French"),ne=Object(r.a)(ce,2),se=ne[0],re=ne[1];Object(i.useEffect)((function(){var e=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("/banner/mobile?lang=".concat(se));case 2:t=e.sent,a=t.data,T(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,M,G]);var ie=function(e){c(a!==e?e:null)},le=function(e){R(M!==e?e:null)},je=function(e){H(G!==e?e:null)},de=Object(i.useState)(null),oe=Object(r.a)(de,2),ue=oe[0],be=oe[1],Oe=Object(i.useState)(null),he=Object(r.a)(Oe,2),xe=he[0],me=he[1],fe=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});fe.use(o.a),fe.on("thumbnail:generated",(function(e,t){be(e.data),ae(t)}));var pe=new j.a({meta:{type:"avatar"},restrictions:{maxNumberOfFiles:1},autoProceed:!0});pe.use(o.a),pe.on("thumbnail:generated",(function(e,t){me(e.data),Z(t)}));var ge=new FormData;ge.append("file",ue),ge.append("lang",se);var ve=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,m.a.post("/banner/mobile",ge,{});case 3:e.sent.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Uploaded Successfully!"})),H(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("/banner?id=".concat(t));case 2:e.sent.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Deleted Successfully!"})),c(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=new FormData;Ne.append("file",xe);var we=function(){var e=Object(s.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.put("/banner/".concat(t),Ne,{});case 2:e.sent.data.success?(g.c.success(Object(P.jsx)(p.b,{title:"Success",text:"Banner Updated Successfully!"})),R(null)):g.c.error(Object(P.jsx)(p.a,{title:"error",text:"Something went wrong, try again later"}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(v.a,{children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(N.a,{children:"All Mobile Banners "}),Object(P.jsxs)("div",{className:"d-flex",children:[Object(P.jsx)(b.a,{className:"react-select w-25",defaultValue:se,options:L,style:{width:"150px"},onChange:function(e){return re(e.value)}}),Object(P.jsx)("div",{className:"ml-auto mb-2",children:Object(P.jsx)(w.a,{color:"primary",onClick:function(){return je(0)},children:"Add new Banner"})})]}),Object(P.jsx)("div",{className:"float-right mb-2",children:Object(P.jsxs)(S.a,{isOpen:0===G,toggle:function(){return je(0)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(P.jsx)(k.a,{toggle:function(){return je(0)},children:"Upload"}),Object(P.jsx)(C.a,{children:Object(P.jsx)(F.a,{children:Object(P.jsx)(_.a,{children:Object(P.jsxs)(z.a,{sm:"12",className:"mt-2",children:[Object(P.jsx)("h6",{children:" Upload Banners "}),Object(P.jsx)(u.a,{uppy:fe}),null!==ue?Object(P.jsx)("img",{className:"rounded mt-2",src:te,alt:"avatar"}):null]})})})}),Object(P.jsx)(B.a,{children:Object(P.jsx)(w.a,{color:"primary",onClick:function(e){return ve(e)},children:"Submit"})})]},0)}),Object(P.jsxs)(D.a,{responsive:!0,children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"S.No"}),Object(P.jsx)("th",{children:"Banners"}),Object(P.jsx)("th",{children:"Actions"})]})}),Object(P.jsx)("tbody",{children:Q.map((function(e,t){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:t+1}),Object(P.jsxs)("td",{children:[" ",Object(P.jsx)("img",{src:f.a+e.image,width:"auto",height:"200",alt:""})," "]}),Object(P.jsxs)("td",{children:[Object(P.jsxs)(E.a,{children:[Object(P.jsx)(U.a,{className:"icon-btn hide-arrow",color:"transparent",size:"sm",caret:!0,children:Object(P.jsx)(O.a,{size:15})}),Object(P.jsxs)(A.a,{right:!0,children:[Object(P.jsxs)(J.a,{href:"/",onClick:function(t){t.preventDefault(),le(e._id)},children:[Object(P.jsx)(h.a,{className:"mr-50",size:15}),"  ",Object(P.jsx)("span",{className:"align-middle",children:"Edit"})]}),Object(P.jsxs)(J.a,{href:"/",onClick:function(t){t.preventDefault(),ie(e._id)},children:[Object(P.jsx)(x.a,{className:"mr-50",size:15})," ",Object(P.jsx)("span",{className:"align-middle",children:"Delete"})]})]})]}),Object(P.jsxs)(S.a,{isOpen:M===e._id,toggle:function(){return le(e.id)},className:"modal-dialog-centered",modalClassName:"modal-primary",children:[Object(P.jsx)(k.a,{toggle:function(){return le(e._id)},children:"Edit"}),Object(P.jsx)(C.a,{children:Object(P.jsx)(F.a,{children:Object(P.jsx)(_.a,{children:Object(P.jsxs)(z.a,{sm:"12",className:"mt-2",children:[Object(P.jsx)("h6",{children:" edit Banner "}),Object(P.jsx)(u.a,{uppy:pe}),null!==xe?Object(P.jsx)("img",{className:"rounded mt-2",src:Y,alt:"avatar"}):null]})})})}),Object(P.jsx)(B.a,{children:Object(P.jsx)(w.a,{color:"primary",onClick:function(){return we(e._id)},children:"Submit"})})]},e._id),Object(P.jsxs)(S.a,{isOpen:a===e._id,toggle:function(){return ie(e._id)},className:"modal-dialog-centered",modalClassName:"modal-danger",children:[Object(P.jsx)(k.a,{toggle:function(){return ie(e._id)},children:"Delete"}),Object(P.jsx)(C.a,{children:"Are you sure you want to delete this?"}),Object(P.jsx)(B.a,{children:Object(P.jsx)(w.a,{color:"danger",onClick:function(){return ye(e._id)},children:"delete"})})]},e.id)]})]},t)}))})]})]})})})}},458:function(e,t,a){"use strict";var c=a(83),n=a.n(c);t.a=n.a.create({baseURL:"http://localhost:4000"})},462:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return j}));var c=a(0),n=a(466),s=a(638),r=a(616),i=(a(639),a(659),a(8)),l=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"success",icon:Object(i.jsx)(s.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Success!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})},j=function(e){return Object(i.jsxs)(c.Fragment,{children:[Object(i.jsx)("div",{className:"toastify-header",children:Object(i.jsxs)("div",{className:"title-wrapper",children:[Object(i.jsx)(n.a,{size:"sm",color:"danger",icon:Object(i.jsx)(r.a,{size:12})}),Object(i.jsx)("h6",{className:"toast-title",children:"Error!"})]})}),Object(i.jsx)("div",{className:"toastify-body",children:Object(i.jsx)("span",{role:"img","aria-label":"toast-text",children:e.text})})]})}},467:function(e,t,a){}}]);
//# sourceMappingURL=80.d7ebeee4.chunk.js.map